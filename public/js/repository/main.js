// Generated by LiveScript 1.2.0
(function(){
  define(['items/item', 'underscore', 'util', 'jquery'], function(its, _, util, $){
    var users, items;
    users = [];
    $.ajax('/users', {
      async: false,
      dataType: 'json'
    }).done(function(it){
      return users = it;
    });
    items = [];
    $.ajax('/items', {
      async: false,
      dataType: 'json'
    }).done(function(it){
      return items = it;
    });
    return {
      status: function(){
        return {
          items: 983,
          meta: 307,
          keys: 125
        };
      },
      items: function(){
        return items;
      },
      me: function(){
        return users[0];
      },
      friends: function(){
        return users;
      },
      friend: function(id){
        return _(users).find(function(it){
          return it.id === id;
        });
      },
      postItem: function(item){
        return $.ajax('/items', {
          async: true,
          type: 'POST',
          data: item,
          dataType: 'json'
        }).done(function(){
          return users.push(item);
        });
      },
      findItem: function(f){
        return _(items).filter(function(it){
          return f(it);
        });
      }
    };
  });
}).call(this);
