// Generated by LiveScript 1.2.0
(function(){
  define(['repository', 'template!./friends', 'template!./friend', 'jquery', 'underscore'], function(repo, temp, ftemp, $, _){
    var update, view;
    update = function(){
      $('.friends').empty();
      return view();
    };
    view = function(){
      $('.friends').append($(temp()));
      return _(repo.friends()).each(function(u){
        u = (u.itemCount = repo.itemByUser(u.id).length, u);
        return $('.friends-list').append($(ftemp(u)));
      });
    };
    return {
      update: update,
      view: view
    };
  });
}).call(this);
